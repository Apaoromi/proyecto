<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <title>eMercado - Carrito</title>
  <link href="https://fonts.googleapis.com/css?family=Raleway:300,300i,400,400i,700,700i,900,900i" rel="stylesheet">
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link href="css/font-awesome.min.css" rel="stylesheet">
  <!-- El CSS espec√≠fico del carrito lo reemplazaremos luego -->
  <link href="css/cart.css" rel="stylesheet">
</head>

<body>

<nav class="navbar navbar-expand-lg navbar-dark bg-dark p-1">
  <div class="container">

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" 
      data-bs-target="#navbarNav" aria-controls="navbarNav" 
      aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav w-100 justify-content-between">
        <li class="nav-item"><a class="nav-link" href="index.html">Inicio</a></li>
        <li class="nav-item"><a class="nav-link" href="categories.html">Categor√≠as</a></li>
        <li class="nav-item"><a class="nav-link" href="sell.html">Vender</a></li>
        <li class="nav-item"><a class="nav-link" id="link-usuario" href="login.html">Registrarse</a></li>
      </ul>
    </div>

    <!-- Bot√≥n de modo oscuro -->
    <button class="theme-toggle" id="themeToggle" aria-pressed="false" aria-label="Alternar modo oscuro">
      <span class="toggle-label">Modo Oscuro</span>
      <div class="toggle-switch" aria-hidden="true"></div>
    </button>

  </div>
</nav>



  <main class="container page-main">
    <header class="page-header">
      <h1>üõí Carrito de Compras</h1>
    </header>

    <!-- CONTENEDOR PRINCIPAL: IZQUIERDA = PRODUCTOS, DERECHA = CARRITO -->
    <section class="contenedor-principal" style="display:flex; gap:24px; align-items:flex-start; margin-top:18px;">

      <!-- IZQUIERDA: zona donde tu JS o sistema deben mostrar los productos (mantenemos el placeholder) -->
      <section class="productos" style="flex:2;">
        <div class="productos-inner">
          <!-- Si tu sistema muestra tarjetas de productos aqu√≠, se adaptar√° -->
          <!-- Mantengo un contenedor con id √∫til para debug/preview -->
          <div id="product-list" class="product-list-placeholder">
             <ul id="lista-carrito">
          <li>*Carrito vac√≠o*</li>
        </ul>
            <p class="alerta-vacio">Panel de productos (visual) ‚Äî el carrito se gestiona en la derecha.</p>
          </div>
        </div>
      </section>

      <!-- DERECHA: resumen / formulario de env√≠o y pago (esto lo usa tu JS) -->
      <aside class="carrito" style="flex:1;">
        <h2>Tu Carrito</h2>

        <!-- Lista donde el JS agrega li por producto: ID requerido = lista-carrito -->
       

        <!-- Tipo de env√≠o (id esperado por tu script: tipo-envio) -->
        <div class="campo">
          <label for="tipo-envio">Tipo de env√≠o</label>
          <select id="tipo-envio" name="tipo-envio">
            <option value="standard">Env√≠o est√°ndar (3-5 d√≠as h√°biles)</option>
            <option value="express">Env√≠o express (1-2 d√≠as h√°biles)</option>
            <option value="premium">Env√≠o overnight (1 d√≠a h√°bil)</option>
          </select>
        </div>

        <!-- Direcci√≥n -->
        <h3 style="margin-top:14px;">Direcci√≥n de env√≠o</h3>
        <div class="inputs-direccion">
          <input type="text" id="departamento" placeholder="Departamento"><br>
          <input type="text" id="localidad" placeholder="Localidad"><br>
          <input type="text" id="calle" placeholder="Calle"><br>
          <input type="text" id="numero" placeholder="N√∫mero"><br>
          <input type="text" id="esquina" placeholder="Esquina"><br>
        </div>

        <!-- Forma de pago -->
        <h3 style="margin-top:14px;">Forma de pago</h3>
        <div class="metodos-pago">
          <label><input type="radio" name="pago" value="tarjeta"> Tarjeta de cr√©dito</label><br>
          <label><input type="radio" name="pago" value="transferencia"> Transferencia bancaria</label>
          <div class="icons-pago" aria-hidden="true" style="margin-top:8px;">
            <span class="fa fa-cc-visa" title="Visa"></span>
            <span class="fa fa-cc-mastercard" title="Mastercard"></span>
            <span class="fa fa-cc-amex" title="Amex"></span>
          </div>
        </div>

        <!-- Costos: muestro env√≠o (id=envio) y lo dejo listo para mostrar valor -->
        <h3 style="margin-top:14px;">Costos</h3>
        <p id="envio">Costo de env√≠o: U$S <span id="envio-valor">0.00</span></p>

        <!-- TOTAL: la variable .total p es usada por tu JS (totalDiv = document.querySelector('.total p')) -->
        <div class="total" style="margin-top:12px;">
          <!-- Mantengo un <p> √∫nico para asegurar compatibilidad con tu selecto actual -->
          <p>Total Estimado: U$S <span id="total-valor">0.00</span></p>
        </div>

        <!-- Bot√≥n finalizar: conserva clase btn-finalizar -->
        <button class="btn-finalizar" id="btn-finalizar" style="margin-top:12px;">
          Finalizar Compra
        </button>
      </aside>
    </section>
  </main>

  <footer class="text-muted" style="margin-top:30px;">
    <div class="container">
      <p class="float-end"><a href="#">Volver arriba</a></p>
      <p>Este sitio forma parte de <a href="https://jovenesaprogramar.edu.uy/" target="_blank">Jovenes a Programar</a></p>
    </div>
  </footer>

  <!-- Spinner (mantengo estructura) -->
  <div id="spinner-wrapper" style="display:none;">
    <div class="lds-ring"><div></div><div></div><div></div><div></div></div>
  </div>

  <!-- Modal placeholder para finalizar compra (lo completamos luego con contenido/estilos) -->
  <div id="modal-finalizar" class="modal-hidden" role="dialog" aria-modal="true" aria-labelledby="modal-title" style="display:none;">
    <div id="modal-backdrop" class="modal-backdrop"></div>
    <div class="modal-card">
      <h2 id="modal-title">Finaliza tu compra</h2>
      <p>Aqu√≠ seleccionar√°s la direcci√≥n (placeholder).</p>
      <div class="modal-actions">
        <button id="modal-close">Cancelar</button>
        <button id="modal-confirm">Finalizar compra</button>
      </div>
    </div>
  </div>

  <!-- Scripts (no los modifiqu√©) -->
  <script src="js/bootstrap.bundle.min.js"></script>
  <script src="js/init.js"></script>
  <script src="js/cart.js"></script>
  <script src="navbar.js"></script>

  <!-- Toggle dark-mode (tu c√≥digo existente se mantiene; lo guard√© aqu√≠ por si falta) -->
  <script>
    function toggleTheme() {
      document.body.classList.toggle('dark-mode');
      const isDarkMode = document.body.classList.contains('dark-mode');
      localStorage.setItem('darkMode', isDarkMode);
      const toggleLabel = document.querySelector('.toggle-label');
      if (toggleLabel) toggleLabel.textContent = isDarkMode ? 'Modo Claro' : 'Modo Oscuro';
    }
    function loadTheme() {
      const darkMode = localStorage.getItem('darkMode') === 'true';
      if (darkMode) {
        document.body.classList.add('dark-mode');
        const toggleLabel = document.querySelector('.toggle-label');
        if (toggleLabel) toggleLabel.textContent = 'Modo Claro';
      }
    }
    document.addEventListener('DOMContentLoaded', function() {
      loadTheme();
      const tt = document.getElementById('themeToggle');
      if (tt) tt.addEventListener('click', toggleTheme);
    });
  </script>

</body>
</html>
